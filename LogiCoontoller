import java.util.Date;

public class LoginController {
    private Customer customer;
    private Date lastLoginTime;

    public LoginController(Customer customer) {
        this.customer = customer;
        this.lastLoginTime = null;
    }

    public boolean login(String username, String password) {
        if (customer != null && customer.getLoginInstance() != null) {
            boolean authenticated = customer.getLoginInstance().authenticate(username, password);
            if (authenticated) {
                customer.setLogin(true);
                this.lastLoginTime = new Date(); // Update last login time
            }
            return authenticated;
        }
        return false;
    }

    public void logout() {
        if (customer != null) {
            customer.setLogin(false);
            this.lastLoginTime = null; // Reset last login time
        }
    }

    public Date getLastLoginTime() {
        return (lastLoginTime != null) ? new Date(lastLoginTime.getTime()) : null; // Return copy for immutability
    }
}